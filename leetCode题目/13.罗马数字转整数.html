<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link rel="stylesheet" href="../commo/commo.css" />
	</head>
	<body>
		<a href="" style="text-decoration: underline"> 13.罗马数字转整数</a>
	</body>
	<script>
		/**
		 * @param {string} s
		 * @return {number}
		 */
		var romanToInt = function (s) {
			let numMap = {
				I: 1,
				V: 5,
				X: 10,
				L: 50,
				C: 100,
				D: 500,
				M: 1000,
			}
			let res = 0
			for (let i = 0; i < s.length; i++) {
                console.log('i:',i);
				let pre = s[i]
				let next = s[i + 1]
				let t = 0
				if (pre === 'I' && ['V', 'X'].includes(next)) {
					t = numMap[next] - numMap[pre]
					i++
				} else if (pre === 'X' && ['L', 'C'].includes(next)) {
					t = numMap[next] - numMap[pre]
					i++
				} else if (pre === 'C' && ['D', 'M'].includes(next)) {
					t = numMap[next] - numMap[pre]
					i++
				} else {
					t = numMap[pre]
				}
				res += t
			}
			return res
        }
        
        // var romanToInt = function(s) {
        //     var hashNum = {
        //         "I":1,
        //         "V":5,
        //         "X":10,
        //         "L":50,
        //         "C":100,
        //         "D":500,
        //         "M":1000
        //     }
        //     var result = 0;
        //     for(let i = 0;i<s.length;i++){
        //         hashNum[s[i]] < hashNum[s[i+1]] ? result -= hashNum[s[i]] : result += hashNum[s[i]]
        //     }
        //     return result;
        // };
        console.log(romanToInt("MCMXCIV"));

	</script>
</html>
