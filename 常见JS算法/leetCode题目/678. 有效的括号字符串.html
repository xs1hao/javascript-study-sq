<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²</title>
    <link rel="stylesheet" href="../../../commo/commo.css">
</head>

<body>
    <a href="https://leetcode-cn.com/problems/valid-parenthesis-string/" target="_blank">
        678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²
    </a>
    <p class="notice">
        <br>
    </p>

    <pre class="code">

        </pre>
</body>
<script>
    /**
     * é¢˜è§£åŠ¨ç”»åœ°å€ï¼š https://leetcode-cn.com/problems/valid-parenthesis-string/solution/you-xiao-de-gua-hao-zi-fu-chuan-xian-jian-ce-you-g/ 
     * 
     * **/
    var checkValidString = function (s) {
        let stack = [], star = [];
        for (let i = 0; i < s.length; i++) { // ä¸€ééå†ï¼Œ å¯¹æ¯ä¸€ä¸ªs[i]ï¼Œåˆ¤æ–­æ˜¯å…¥æ ˆè¿˜æ˜¯æŠµæ¶ˆ
            if (s[i] == '(') {
                stack.push(i);
            } else if (s[i] == '*') {
                star.push(i);
            } else { // æ˜¯ä¸ª ")", ä¸¤ä¸ªæ ˆéƒ½ä¸æ”¶ï¼Œä¸ä»…ä¸æ”¶ï¼Œè¿˜è¦â€˜æŠµæ¶ˆâ€™ï¼Œ å¤„ç†å¦‚ä¸‹ğŸ‘‡
                if (stack.length) {
                    stack.pop();
                } else if (star.length) {
                    star.pop();
                } else { // æ²¡å¾—æŠµæ¶ˆäº†ï¼Œ åªèƒ½è¿”å›false
                    return false;
                }
            }
        }

        if (stack.length > star.length) { //å¯¹ä¸¤ä¸ªæ ˆ å¤„ç†
            return false; 
        }
        while (stack.length && star.length) {
            if (stack.pop() > star.pop()) { // **((, ç±»ä¼¼è¿™æ ·ï¼Œè™½ä¸ªæ•°åˆé€‚ï¼Œä½†é¡ºåºï¼ˆä¸‹æ ‡ï¼‰ä¸å¯
                return false; 
            }
        }
        return true;
    };
    var s = "*(**";
    var res = checkValidString(s);
    console.log(res);
</script>

</html>